process MuonHitsValid = 
{
	untracked PSet maxEvents = {untracked int32 input = 1000}

  include "Configuration/StandardSequences/data/SimulationRandomNumberGeneratorSeeds.cff"

  include "Configuration/StandardSequences/data/FakeConditions.cff"
  include "Configuration/StandardSequences/data/Geometry.cff"
  include "Configuration/StandardSequences/data/MagneticField.cff" 

    untracked PSet options = {
       include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
       untracked bool wantSummary = true
       untracked bool makeTriggerResults = true 
    }


 // If you want to read the SimHits from a file
//  source = PoolSource {
//        untracked vstring fileNames = {'/store/mc/2006/12/21/mc-physval-120-SingleMuMinus-Pt100/0000/04D46AB6-6695-DB11-82A9-00145E1D6432.root'}
//   }


// If you want to create the SimHits from a Gun Source
  source = FlatRandomPtGunSource 
  { 
    string psethack  = "single mu pt 100 neg"	
    untracked uint32 firstRun  =  1
    untracked PSet PGunParameters =
    {
      untracked vint32  PartID = {13}
      untracked double MinEta = -2.5
      untracked double MaxEta =  2.5
      untracked double MinPhi = -3.14159265358979323846 # in radians
      untracked double MaxPhi =  3.14159265358979323846
      untracked double MinPt  =  99.99
      untracked double MaxPt  = 100.01
    }
    untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
  }
  include "FWCore/MessageService/data/MessageLogger.cfi"
#   replace MessageLogger.cout.threshold = "ERROR"
#   untracked vstring destinations = { "cout" }
#   replace MessageLogger.destinations = "cout"  
#   untracked PSet cout = { untracked string threshold = "ERROR" }
    replace MessageLogger.cerr.default.limit = 10

include "Configuration/StandardSequences/data/Simulation.cff"
include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 

include "DQMServices/Core/data/DQM.cfg"
 replace DQM.collectorHost = ""

include "Validation/MuonHits/data/muonHitsValidation.cfi"

// If you read SimHits from a file 
//    path p1 = {validSimHit } # validation 

// If you run the Simulation yourself
   path p1 = {psim, validSimHit } # simulation + validation

   # Event output
include "Configuration/EventContent/data/EventContent.cff"
   module FEVT = PoolOutputModule 
   { 
     	using FEVTSIMEventContent
	untracked string fileName = "single_mu_pt_100_negative.root"
	untracked PSet datasets ={
	    untracked PSet dataset1 = {
		untracked string dataTier = "FEVT"
	    }
	    
	}
   }

}

